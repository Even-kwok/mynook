# ⚡️ 下一步行动清单

**当前状态**: ✅ 代码已推送，等待你完成 Vertex AI 配置

---

## 📋 你需要做的事情（按顺序）

### 1️⃣ 创建 Google Cloud 项目（5分钟）

访问: https://console.cloud.google.com/

- [ ] 创建新项目
- [ ] 记录项目 ID（例如：`mynook-ai-123456`）

---

### 2️⃣ 启用 API（2分钟）

在 Google Cloud Console 搜索框中：

- [ ] 搜索 "Vertex AI API" → 点击 ENABLE
- [ ] 搜索 "Generative Language API" → 点击 ENABLE

---

### 3️⃣ 创建服务账号（3分钟）

进入 **IAM & Admin** → **Service Accounts**：

- [ ] 点击 "CREATE SERVICE ACCOUNT"
- [ ] 名称：`mynook-vertex-ai`
- [ ] 角色：选择 "**Vertex AI User**"
- [ ] 完成创建

---

### 4️⃣ 下载密钥文件（1分钟）

在服务账号页面：

- [ ] 点击刚创建的服务账号
- [ ] 切换到 "KEYS" 标签
- [ ] 点击 "ADD KEY" → "Create new key" → 选择 JSON
- [ ] 保存下载的 JSON 文件

---

### 5️⃣ 在 Vercel 配置环境变量（5分钟）

访问: https://vercel.com/dashboard

进入项目 **Settings** → **Environment Variables**，添加：

#### 必需的 4 个环境变量：

| 变量名 | 值 | 备注 |
|--------|-----|------|
| `GOOGLE_GENAI_USE_VERTEXAI` | `true` | 启用 Vertex AI |
| `GOOGLE_CLOUD_PROJECT` | `你的项目ID` | 第1步记录的 |
| `GOOGLE_CLOUD_LOCATION` | `us-central1` | 推荐区域 |
| `GOOGLE_APPLICATION_CREDENTIALS_JSON` | `{完整JSON}` | 第4步下载的文件内容 |

#### 如何填写 GOOGLE_APPLICATION_CREDENTIALS_JSON：

- [ ] 用记事本打开下载的 JSON 文件
- [ ] 复制**全部内容**（从 `{` 到 `}`）
- [ ] 粘贴到 Vercel 的 Value 栏

**示例**（你的会更长）:
```json
{"type":"service_account","project_id":"your-project","private_key":"-----BEGIN PRIVATE KEY-----\n...很长的密钥...\n-----END PRIVATE KEY-----\n",...}
```

- [ ] 点击 "Save" 保存每个变量
- [ ] 确认所有 4 个变量都已添加

---

### 6️⃣ 启用计费（5分钟）⚠️

在 Google Cloud Console：

- [ ] 点击 "Billing"
- [ ] 关联付费账户（需要信用卡）
- [ ] 🎁 新用户获得 **$300 免费额度**

**别担心费用**：
- `gemini-2.5-flash-image` 非常便宜
- 每生成 100 张图片约 $0.01
- $300 免费额度可以用很久！

---

### 7️⃣ 触发 Vercel 重新部署（1分钟）

在 Vercel Dashboard：

- [ ] 进入 **Deployments** 标签
- [ ] 点击最新部署旁的 "⋯" 菜单
- [ ] 选择 "**Redeploy**"

**或者**推送一个空的 commit：

```bash
git commit --allow-empty -m "trigger redeploy"
git push
```

---

### 8️⃣ 测试功能（2分钟）

部署完成后：

- [ ] 打开你的应用
- [ ] 登录账号
- [ ] 选择房间类型和风格
- [ ] 上传参考图片
- [ ] 点击 "Generate" 按钮
- [ ] ✅ 应该能看到生成的图片！

---

## 🔍 验证成功

在 Vercel → Logs 中，应该看到：

```
✅ Vertex AI configured: project=mynook-ai-123456, location=us-central1
🤖 Using model: gemini-2.5-flash-image (Vertex AI)
✅ Image generated successfully
```

**如果看到错误**，请参考：[✅Vertex_AI快速配置_2025_10_11.md](./✅Vertex_AI快速配置_2025_10_11.md)

---

## 📚 相关文档

- [✅Vertex_AI快速配置_2025_10_11.md](./✅Vertex_AI快速配置_2025_10_11.md) - 详细配置步骤
- [VERTEX_AI_配置指南.md](./VERTEX_AI_配置指南.md) - 完整参考文档

---

## ⏱️ 总耗时

大约 **20-25 分钟**即可完成所有配置！

配置完成后，你的应用就能使用 **gemini-2.5-flash-image** 模型了！🎉

