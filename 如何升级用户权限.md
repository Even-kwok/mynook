# 如何升级用户权限到 Premium

## 📧 目标用户
- **邮箱**: 4835300@qq.com
- **目标等级**: Premium 👑
- **信用点**: 5000 点

---

## 🚀 执行步骤

### 方法一：通过 Supabase Dashboard（推荐）

1. **打开 Supabase Dashboard**
   - 访问: https://supabase.com/dashboard
   - 登录您的账号
   - 选择您的项目

2. **进入 SQL Editor**
   - 在左侧菜单找到 "SQL Editor"
   - 点击 "New query"

3. **执行 SQL 脚本**
   - 复制以下 SQL 代码：
   
   ```sql
   -- 1. 先查看当前用户信息
   SELECT 
       id,
       email,
       membership_tier,
       credits,
       created_at
   FROM users 
   WHERE email = '4835300@qq.com';
   
   -- 2. 更新用户为 Premium 会员
   UPDATE users
   SET 
       membership_tier = 'premium',
       credits = 5000,
       updated_at = NOW()
   WHERE email = '4835300@qq.com';
   
   -- 3. 验证更新结果
   SELECT 
       id,
       email,
       membership_tier,
       credits,
       updated_at
   FROM users 
   WHERE email = '4835300@qq.com';
   ```

4. **点击 "Run" 按钮**
   - 查看执行结果
   - 确认 membership_tier = 'premium'
   - 确认 credits = 5000

5. **完成！** 🎉

---

### 方法二：使用 MCP Supabase 工具

如果您安装了 Supabase MCP 工具，我可以直接帮您执行：

```sql
UPDATE users
SET 
    membership_tier = 'premium',
    credits = 5000,
    updated_at = NOW()
WHERE email = '4835300@qq.com';
```

---

## ✅ 验证更新

更新完成后，该用户将获得：

1. ✨ **Premium 会员身份**
2. 💎 **5000 信用点**
3. 🎨 **Free Canvas 功能访问权限**
4. ⚡ **优先队列处理**

---

## 🧪 测试

用户需要：
1. **退出登录**
2. **重新登录** - 使用 4835300@qq.com
3. **访问 Free Canvas** - 应该能正常使用
4. **查看信用点** - 应该显示 5000 点

---

## 🔄 如何回滚

如果需要撤销更新：

```sql
-- 恢复为 Free
UPDATE users
SET 
    membership_tier = 'free',
    credits = 0,
    updated_at = NOW()
WHERE email = '4835300@qq.com';

-- 或恢复为 Pro
UPDATE users
SET 
    membership_tier = 'pro',
    credits = 1000,
    updated_at = NOW()
WHERE email = '4835300@qq.com';
```

---

## 📊 会员等级对照表

| 等级 | 图标 | 信用点 | Free Canvas |
|------|------|--------|-------------|
| Free 🆓 | 免费 | 0 | ❌ |
| Pro ⭐ | 高级 | 1,000 | ❌ |
| **Premium 👑** | **高级会员** | **5,000** | **✅** |
| Business 💼 | 商业 | 25,000 | ✅ |

---

## ⚠️ 注意事项

1. 执行 SQL 前请先备份数据（建议）
2. 确认邮箱拼写正确
3. 更新后用户需要重新登录才能看到变化
4. 如果用户已登录，可能需要清除浏览器缓存

---

## 📞 如有问题

如果遇到任何问题：
- 检查 Supabase 连接是否正常
- 确认用户是否存在于数据库中
- 查看 Supabase Dashboard 的日志
- 联系技术支持

---

**文件位置**: `supabase/migrations/update_user_to_premium.sql`

