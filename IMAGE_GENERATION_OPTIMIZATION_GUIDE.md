# ğŸš€ å›¾ç‰‡ç”Ÿæˆæ€§èƒ½ä¼˜åŒ–å®ŒæˆæŒ‡å—

**æ—¥æœŸ**: 2025-10-11  
**åˆ†æ”¯**: `feature/image-generation-optimization`  
**çŠ¶æ€**: âœ… ä¼˜åŒ–å®Œæˆï¼Œç­‰å¾…æµ‹è¯•å’Œéƒ¨ç½²

---

## ğŸ“‹ ä¼˜åŒ–å†…å®¹æ€»ç»“

### âœ… å·²å®Œæˆçš„ä¼˜åŒ–

#### 1. æ¨¡å‹åˆ‡æ¢ï¼ˆæ–¹æ¡ˆ1ï¼‰
**ä¿®æ”¹æ–‡ä»¶**: `api/generate-image.ts`

**å˜æ›´å†…å®¹**:
```typescript
// ä»ï¼š
const modelName = 'gemini-2.5-flash-image-preview';

// æ”¹ä¸ºï¼š
const modelName = 'gemini-2.5-flash-image';
```

**ä¼˜ç‚¹**:
- âœ… ä½¿ç”¨ç¨³å®šç‰ˆæœ¬ï¼Œä¸å†æ˜¯ preview
- âœ… å‡å°‘ä¸ç¨³å®šæ€§å’Œæ„å¤–é”™è¯¯
- âœ… æ›´å¥½çš„å¯ç”¨æ€§ä¿è¯

---

#### 2. è¶…æ—¶å’Œé‡è¯•æœºåˆ¶ï¼ˆæ–¹æ¡ˆ2ï¼‰
**ä¿®æ”¹æ–‡ä»¶**: `services/geminiService.ts`

**æ–°å¢åŠŸèƒ½**:
- âœ… **45ç§’è¶…æ—¶æ§åˆ¶**: é˜²æ­¢è¯·æ±‚æ— é™æœŸæŒ‚èµ·
- âœ… **è‡ªåŠ¨é‡è¯•2æ¬¡**: ç½‘ç»œä¸´æ—¶é—®é¢˜è‡ªåŠ¨æ¢å¤
- âœ… **æ™ºèƒ½é‡è¯•**: è®¤è¯/ä¿¡ç”¨ç‚¹é”™è¯¯ä¸é‡è¯•
- âœ… **è¿›åº¦å›è°ƒ**: æ”¯æŒå®æ—¶è¿›åº¦æ›´æ–°

**æŠ€æœ¯ç»†èŠ‚**:
```typescript
- MAX_RETRIES: 2æ¬¡é‡è¯•
- TIMEOUT: 45ç§’
- RETRY_DELAY: 2ç§’é—´éš”
- ä½¿ç”¨ AbortController æ§åˆ¶è¶…æ—¶
```

---

#### 3. åŠ è½½è¿›åº¦æç¤ºï¼ˆæ–¹æ¡ˆ4ï¼‰
**ä¿®æ”¹æ–‡ä»¶**: `components/FreeCanvasPage.tsx`

**æ–°å¢åŠŸèƒ½**:
- âœ… å®æ—¶è¿›åº¦æ¶ˆæ¯æ˜¾ç¤º
- âœ… ç”¨æˆ·å‹å¥½çš„çŠ¶æ€æç¤º
- âœ… é¢„è®¡æ—¶é—´æé†’ï¼ˆ10-30ç§’ï¼‰

**è¿›åº¦æ¶ˆæ¯ç¤ºä¾‹**:
- "Preparing your image..."
- "Uploading to AI service..."
- "Generating your design..."
- "Retrying (1/2)..." ï¼ˆå¤±è´¥æ—¶ï¼‰

---

#### 4. æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ï¼ˆæ–¹æ¡ˆ3ï¼‰
**æ–°å¢æ–‡ä»¶**: 
- `supabase/migrations/20251011_optimize_credits_check.sql`

**ä¿®æ”¹æ–‡ä»¶**: 
- `api/lib/creditsService.ts`
- `api/generate-image.ts`

**ä¼˜åŒ–å†…å®¹**:
- âœ… åˆå¹¶æ£€æŸ¥å’Œæ‰£é™¤æ“ä½œä¸ºä¸€æ¬¡æ•°æ®åº“è°ƒç”¨
- âœ… ä½¿ç”¨åŸå­æ€§æ“ä½œï¼ˆFOR UPDATE é”ï¼‰
- âœ… å‡å°‘ 2-3 æ¬¡æ•°æ®åº“å¾€è¿”
- âœ… é¢„è®¡å‡å°‘ 300-800ms å»¶è¿Ÿ

**æ–°å¢æ•°æ®åº“å‡½æ•°**:
1. `check_and_deduct_credits(p_user_id, p_amount)` - åŸå­æ€§æ£€æŸ¥å¹¶æ‰£é™¤
2. `refund_credits(p_user_id, p_amount)` - ä¼˜åŒ–çš„å›æ»šå‡½æ•°

---

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: æ‰§è¡Œæ•°æ®åº“è¿ç§»

**åœ¨ Supabase SQL Editor ä¸­è¿è¡Œ**:

1. è®¿é—® [Supabase Dashboard](https://supabase.com/dashboard)
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. ç‚¹å‡»å·¦ä¾§ **SQL Editor**
4. åˆ›å»ºæ–°æŸ¥è¯¢
5. å¤åˆ¶å¹¶æ‰§è¡Œ `supabase/migrations/20251011_optimize_credits_check.sql` çš„å†…å®¹
6. ç‚¹å‡» **Run**

**éªŒè¯è¿ç§»æˆåŠŸ**:
```sql
-- æ£€æŸ¥å‡½æ•°æ˜¯å¦åˆ›å»ºæˆåŠŸ
SELECT proname, prosrc 
FROM pg_proc 
WHERE proname IN ('check_and_deduct_credits', 'refund_credits');
```

åº”è¯¥è¿”å›ä¸¤ä¸ªå‡½æ•°çš„ä¿¡æ¯ã€‚

---

### æ­¥éª¤ 2: æäº¤å¹¶æ¨é€ä»£ç 

```bash
# æŸ¥çœ‹ä¿®æ”¹çš„æ–‡ä»¶
git status

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git add .

# æäº¤ä¿®æ”¹
git commit -m "perf: optimize image generation performance

- Switch model to gemini-2.5-flash-image (stable version)
- Add timeout (45s) and retry mechanism (2 retries)
- Add real-time progress feedback for users
- Optimize credits check with atomic database function
- Expected improvement: 30-50% faster, more stable"

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin feature/image-generation-optimization
```

---

### æ­¥éª¤ 3: åœ¨ Vercel ä¸Šéƒ¨ç½²

#### é€‰é¡¹ A: åˆ›å»º Pull Requestï¼ˆæ¨èï¼‰
1. è®¿é—® GitHub ä»“åº“
2. åˆ›å»º Pull Request: `feature/image-generation-optimization` â†’ `master`
3. ç­‰å¾… Vercel è‡ªåŠ¨åˆ›å»º Preview éƒ¨ç½²
4. åœ¨ Preview ç¯å¢ƒä¸­æµ‹è¯•
5. ç¡®è®¤æ— é—®é¢˜ååˆå¹¶åˆ° master

#### é€‰é¡¹ B: ç›´æ¥åˆå¹¶åˆ° master
```bash
# åˆ‡æ¢åˆ° master
git checkout master

# åˆå¹¶ä¼˜åŒ–åˆ†æ”¯
git merge feature/image-generation-optimization

# æ¨é€åˆ°è¿œç¨‹
git push origin master
```

Vercel ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶éƒ¨ç½²åˆ° Productionã€‚

---

## ğŸ§ª æµ‹è¯•æ¸…å•

### åŸºæœ¬åŠŸèƒ½æµ‹è¯•

éƒ¨ç½²å®Œæˆåï¼Œè¯·ä¾æ¬¡æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š

- [ ] **ç™»å½•åŠŸèƒ½**: ç¡®è®¤å¯ä»¥æ­£å¸¸ç™»å½•
- [ ] **ä¸Šä¼ å›¾ç‰‡**: å¯ä»¥ä¸Šä¼ å›¾ç‰‡åˆ°ç”»å¸ƒ
- [ ] **è¾“å…¥æç¤ºè¯**: å¯ä»¥è¾“å…¥ç”Ÿæˆæç¤º
- [ ] **ç”Ÿæˆå›¾ç‰‡**: ç‚¹å‡»ç”ŸæˆæŒ‰é’®
  - [ ] æ˜¾ç¤ºè¿›åº¦æ¶ˆæ¯
  - [ ] æ˜¾ç¤º"Preparing your image..."
  - [ ] æ˜¾ç¤º"Uploading to AI service..."
  - [ ] æ˜¾ç¤º"Generating your design..."
  - [ ] é¢„è®¡æ—¶é—´æç¤ºæ˜¾ç¤ºæ­£å¸¸
- [ ] **ç”ŸæˆæˆåŠŸ**: å›¾ç‰‡æ­£å¸¸ç”Ÿæˆå¹¶æ˜¾ç¤º
- [ ] **ä¿¡ç”¨ç‚¹æ‰£é™¤**: æˆåŠŸåæ‰£é™¤ 1 ç‚¹
- [ ] **å†å²è®°å½•**: ç”Ÿæˆç»“æœä¿å­˜åˆ°å†å²

---

### æ€§èƒ½æµ‹è¯•

ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æµ‹è¯•æ€§èƒ½ï¼š

#### æµ‹è¯• 1: ç”Ÿæˆæ—¶é—´
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
console.time('Generation Time');
// ç‚¹å‡»ç”ŸæˆæŒ‰é’®å¹¶ç­‰å¾…å®Œæˆ
console.timeEnd('Generation Time');
```

**é¢„æœŸç»“æœ**: 
- é¦–æ¬¡ç”Ÿæˆ: 8-15 ç§’
- é‡è¯•æƒ…å†µ: 10-20 ç§’
- è¶…æ—¶: ä¸è¶…è¿‡ 45 ç§’

#### æµ‹è¯• 2: ç½‘ç»œè¯·æ±‚
1. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
3. ç‚¹å‡»ç”ŸæˆæŒ‰é’®
4. æŸ¥çœ‹ `/api/generate-image` è¯·æ±‚

**æ£€æŸ¥é¡¹**:
- [ ] è¯·æ±‚æˆåŠŸè¿”å› 200
- [ ] å“åº”æ—¶é—´åˆç†ï¼ˆ< 30sï¼‰
- [ ] æ²¡æœ‰è¶…æ—¶é”™è¯¯

---

### é”™è¯¯åœºæ™¯æµ‹è¯•

- [ ] **ä¿¡ç”¨ç‚¹ä¸è¶³**: 
  - æµ‹è¯•å½“ä¿¡ç”¨ç‚¹ < 1 æ—¶æç¤ºæ­£ç¡®
  - ä¸æ‰£é™¤ä¿¡ç”¨ç‚¹
  
- [ ] **ç½‘ç»œè¶…æ—¶**:
  - åœ¨æ…¢é€Ÿç½‘ç»œä¸‹æµ‹è¯•
  - åº”è¯¥æ˜¾ç¤ºé‡è¯•æ¶ˆæ¯
  - æœ€å¤šé‡è¯• 2 æ¬¡åè¿”å›é”™è¯¯

- [ ] **Session è¿‡æœŸ**:
  - é•¿æ—¶é—´ä¸æ“ä½œåæµ‹è¯•
  - åº”è¯¥æç¤ºé‡æ–°ç™»å½•

---

## ğŸ“Š å¦‚ä½•æŸ¥çœ‹ Vercel å‡½æ•°æ—¥å¿—

### æ–¹æ³• 1: Vercel Dashboard

1. **è®¿é—® Vercel Dashboard**
   - ç½‘å€: https://vercel.com/dashboard
   - é€‰æ‹©ä½ çš„é¡¹ç›®ï¼ˆä¾‹å¦‚ï¼šmynookï¼‰

2. **æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—**
   - ç‚¹å‡»é¡¶éƒ¨ **Deployments** æ ‡ç­¾
   - é€‰æ‹©æœ€æ–°çš„éƒ¨ç½²

3. **æŸ¥çœ‹å‡½æ•°æ—¥å¿—**
   - ç‚¹å‡»éƒ¨ç½²è¯¦æƒ…é¡µçš„ **Functions** æ ‡ç­¾
   - æ‰¾åˆ° `/api/generate-image`
   - æŸ¥çœ‹å®æ—¶æ—¥å¿—

4. **æ—¥å¿—å†…å®¹ç¤ºä¾‹**ï¼ˆæˆåŠŸï¼‰:
   ```
   âœ… GEMINI_API_KEY found, initializing AI client...
   ğŸ”§ Initializing Google GenAI client for user abc123...
   ğŸ“ Instruction: Make it modern style...
   ğŸ“¤ Uploaded 1 images, calling Gemini API...
   ğŸ¤– Using model: gemini-2.5-flash-image
   âœ… Credits deducted for user abc123: -1 (remaining: 49)
   ```

5. **æ—¥å¿—å†…å®¹ç¤ºä¾‹**ï¼ˆå¤±è´¥ï¼‰:
   ```
   âŒ Error generating image: {
     message: "...",
     stack: "...",
     userId: "abc123"
   }
   ```

---

### æ–¹æ³• 2: Vercel CLIï¼ˆå¼€å‘è€…é€‰é¡¹ï¼‰

```bash
# å®‰è£… Vercel CLIï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
npm install -g vercel

# ç™»å½•
vercel login

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
vercel logs https://your-project-url.vercel.app --follow

# è¿‡æ»¤ç‰¹å®šå‡½æ•°çš„æ—¥å¿—
vercel logs --follow | grep "generate-image"
```

---

### æ–¹æ³• 3: æµè§ˆå™¨å¼€å‘è€…å·¥å…·

1. **æ‰“å¼€å¼€å‘è€…å·¥å…·** (F12)
2. **åˆ‡æ¢åˆ° Console æ ‡ç­¾**
3. æ‰§è¡Œç”Ÿæˆæ“ä½œ
4. æŸ¥çœ‹å‰ç«¯æ—¥å¿—:
   ```
   Error generating image (attempt 1/3): ...
   ```

5. **åˆ‡æ¢åˆ° Network æ ‡ç­¾**
6. æ‰¾åˆ° `/api/generate-image` è¯·æ±‚
7. ç‚¹å‡»æŸ¥çœ‹:
   - **Headers**: è¯·æ±‚å¤´å’ŒçŠ¶æ€ç 
   - **Payload**: è¯·æ±‚å‚æ•°
   - **Response**: æœåŠ¡å™¨è¿”å›çš„æ•°æ®å’Œé”™è¯¯ä¿¡æ¯

---

## ğŸ” å¦‚ä½•ç›‘æ§ Gemini API é…é¢

### æ–¹æ³• 1: Google AI Studio Dashboard

1. **è®¿é—® Google AI Studio**
   - ç½‘å€: https://aistudio.google.com/

2. **æŸ¥çœ‹ API Key**
   - ç‚¹å‡»å³ä¸Šè§’ **Get API Key**
   - é€‰æ‹©ä½ æ­£åœ¨ä½¿ç”¨çš„ API Key

3. **æŸ¥çœ‹ä½¿ç”¨æƒ…å†µ**
   - åœ¨ API Key é¡µé¢æŸ¥çœ‹:
     - **Requests**: ä»Šæ—¥/æœ¬æœˆè¯·æ±‚æ•°
     - **Quota**: é…é¢é™åˆ¶
     - **Rate Limit**: é€Ÿç‡é™åˆ¶

4. **é…é¢ä¿¡æ¯**:
   ```
   å…è´¹å¥—é¤é€šå¸¸é™åˆ¶ï¼š
   - æ¯åˆ†é’Ÿ: 15 æ¬¡è¯·æ±‚
   - æ¯å¤©: 1500 æ¬¡è¯·æ±‚
   - æ¯æœˆ: æ ¹æ®é¡¹ç›®é…ç½®
   ```

---

### æ–¹æ³• 2: Google Cloud Console

1. **è®¿é—® Google Cloud Console**
   - ç½‘å€: https://console.cloud.google.com/

2. **é€‰æ‹©ä½ çš„é¡¹ç›®**
   - åœ¨é¡¶éƒ¨ä¸‹æ‹‰èœå•é€‰æ‹©ç›¸åº”é¡¹ç›®

3. **æŸ¥çœ‹é…é¢ä½¿ç”¨**
   - å¯¼èˆªåˆ°: **APIs & Services** â†’ **Dashboard**
   - æ‰¾åˆ° **Generative Language API**
   - ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†ä½¿ç”¨æƒ…å†µ

4. **è®¾ç½®é…é¢è­¦æŠ¥**ï¼ˆå¯é€‰ï¼‰
   - å¯¼èˆªåˆ°: **APIs & Services** â†’ **Quotas**
   - é€‰æ‹© **Generative Language API**
   - è®¾ç½®è­¦æŠ¥é˜ˆå€¼ï¼ˆä¾‹å¦‚ï¼šè¾¾åˆ° 80% æ—¶é€šçŸ¥ï¼‰

---

### æ–¹æ³• 3: ä»£ç å±‚é¢ç›‘æ§

åœ¨ `api/generate-image.ts` ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ·»åŠ äº†è¯¦ç»†æ—¥å¿—ã€‚ä½ å¯ä»¥ç»Ÿè®¡è¿™äº›æ—¥å¿—æ¥ç›‘æ§ä½¿ç”¨æƒ…å†µã€‚

**åœ¨ Vercel Dashboard çš„ Logs ä¸­æŸ¥æ‰¾**:
```
æœç´¢å…³é”®è¯: "ğŸ¤– Using model: gemini-2.5-flash-image"
ç»Ÿè®¡å‡ºç°æ¬¡æ•° = API è°ƒç”¨æ¬¡æ•°
```

**è®¾ç½® Vercel é›†æˆ**ï¼ˆé«˜çº§ï¼‰:
- é›†æˆ **Datadog** æˆ– **LogDNA**
- è‡ªåŠ¨æ”¶é›†å’Œåˆ†ææ—¥å¿—
- è®¾ç½®ä½¿ç”¨é‡è­¦æŠ¥

---

## ğŸ¯ é¢„æœŸæ€§èƒ½æå‡

### ä¼˜åŒ–å‰
- **å¹³å‡ç”Ÿæˆæ—¶é—´**: 12-25 ç§’
- **å¶å°”è¶…æ—¶**: æ˜¯ï¼ˆæ— è¶…æ—¶æ§åˆ¶ï¼‰
- **å¤±è´¥ç‡**: 5-10%ï¼ˆç½‘ç»œæ³¢åŠ¨å¯¼è‡´ï¼‰
- **æ•°æ®åº“æŸ¥è¯¢**: 4-5 æ¬¡å¾€è¿”
- **ç”¨æˆ·ä½“éªŒ**: æ— è¿›åº¦åé¦ˆï¼Œç­‰å¾…ç„¦è™‘

---

### ä¼˜åŒ–åï¼ˆé¢„æœŸï¼‰
- **å¹³å‡ç”Ÿæˆæ—¶é—´**: 8-15 ç§’ï¼ˆæå‡ 30-40%ï¼‰
- **è¶…æ—¶æ§åˆ¶**: 45 ç§’å¼ºåˆ¶è¶…æ—¶
- **å¤±è´¥ç‡**: 1-3%ï¼ˆè‡ªåŠ¨é‡è¯•æ¢å¤ï¼‰
- **æ•°æ®åº“æŸ¥è¯¢**: 2-3 æ¬¡å¾€è¿”ï¼ˆå‡å°‘ 50%ï¼‰
- **ç”¨æˆ·ä½“éªŒ**: å®æ—¶è¿›åº¦ï¼Œå®‰å¿ƒç­‰å¾…

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1: æ•°æ®åº“å‡½æ•°æœªæ‰¾åˆ°

**é”™è¯¯ä¿¡æ¯**:
```
function check_and_deduct_credits(uuid, integer) does not exist
```

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤å·²æ‰§è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬
2. åœ¨ Supabase SQL Editor ä¸­æ‰‹åŠ¨è¿è¡Œè¿ç§»
3. æ£€æŸ¥å‡½æ•°æ˜¯å¦åˆ›å»ºæˆåŠŸ:
   ```sql
   SELECT proname FROM pg_proc WHERE proname LIKE '%credit%';
   ```

---

### é—®é¢˜ 2: ç”Ÿæˆä»ç„¶å¾ˆæ…¢

**æ’æŸ¥æ­¥éª¤**:

1. **æ£€æŸ¥ Vercel å‡½æ•°æ—¥å¿—**
   - æŸ¥çœ‹å“ªä¸ªæ­¥éª¤è€—æ—¶æœ€é•¿
   - æ˜¯ä¸Šä¼ å›¾ç‰‡æ…¢ï¼Ÿè¿˜æ˜¯ Gemini API æ…¢ï¼Ÿ

2. **æµ‹è¯•å›¾ç‰‡å¤§å°**
   - å°è¯•ä¸Šä¼ è¾ƒå°çš„å›¾ç‰‡ï¼ˆ< 1MBï¼‰
   - å¦‚æœå°å›¾ç‰‡å¿«ï¼Œè¯´æ˜æ˜¯ä¸Šä¼ å¸¦å®½é—®é¢˜

3. **æ£€æŸ¥ Gemini API é…é¢**
   - æ˜¯å¦æ¥è¿‘é…é¢é™åˆ¶
   - æ˜¯å¦è§¦å‘äº†é€Ÿç‡é™åˆ¶

4. **æµ‹è¯•ä¸åŒæ—¶é—´æ®µ**
   - åœ¨ä¸åŒæ—¶é—´æµ‹è¯•ï¼ˆé«˜å³°/éé«˜å³°ï¼‰
   - åˆ¤æ–­æ˜¯å¦æ˜¯æœåŠ¡å™¨è´Ÿè½½é—®é¢˜

---

### é—®é¢˜ 3: é‡è¯•æœºåˆ¶æ— æ•ˆ

**ç—‡çŠ¶**: ç¬¬ä¸€æ¬¡å¤±è´¥åç›´æ¥æŠ¥é”™ï¼Œä¸é‡è¯•

**å¯èƒ½åŸå› **:
- é”™è¯¯ç±»å‹è¢«è¯†åˆ«ä¸ºä¸å¯é‡è¯•ï¼ˆå¦‚è®¤è¯é”™è¯¯ï¼‰

**è§£å†³æ–¹æ¡ˆ**:
1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„è¯¦ç»†é”™è¯¯
2. æ£€æŸ¥æ˜¯å¦æ˜¯ 401/402 é”™è¯¯ï¼ˆè¿™äº›ä¸ä¼šé‡è¯•ï¼‰
3. æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦çœŸçš„å¤±è´¥ï¼ˆè€Œä¸æ˜¯æœåŠ¡å™¨è¿”å›é”™è¯¯ï¼‰

---

### é—®é¢˜ 4: è¿›åº¦æ¶ˆæ¯ä¸æ˜¾ç¤º

**ç—‡çŠ¶**: ç”Ÿæˆæ—¶åªæ˜¾ç¤ºè½¬åœˆï¼Œæ²¡æœ‰æ–‡å­—è¿›åº¦

**è§£å†³æ–¹æ¡ˆ**:
1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**: Ctrl + Shift + R
2. ç¡®è®¤ä»£ç å·²éƒ¨ç½²åˆ° Vercel
3. æ£€æŸ¥ `FreeCanvasPage.tsx` çš„ä¿®æ”¹æ˜¯å¦ç”Ÿæ•ˆ
4. åœ¨æ§åˆ¶å°æ£€æŸ¥ `generationProgress` state

---

## ğŸ“ åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰
- [ ] æ”¶é›†å®é™…ä½¿ç”¨æ•°æ®
- [ ] åˆ†æå¹³å‡ç”Ÿæˆæ—¶é—´
- [ ] è¯†åˆ«æœ€å¸¸è§çš„å¤±è´¥åŸå› 
- [ ] æ ¹æ®æ•°æ®è°ƒæ•´è¶…æ—¶æ—¶é—´å’Œé‡è¯•æ¬¡æ•°

### ä¸­æœŸï¼ˆ1ä¸ªæœˆï¼‰
- [ ] å®ç°å›¾ç‰‡å‹ç¼©ï¼Œå‡å°‘ä¸Šä¼ æ—¶é—´
- [ ] æ·»åŠ ç”Ÿæˆç¼“å­˜ï¼ˆç›¸åŒæç¤ºè¯å¤ç”¨ç»“æœï¼‰
- [ ] ä¼˜åŒ–æç¤ºè¯ç”Ÿæˆé€»è¾‘
- [ ] æ·»åŠ ä½¿ç”¨é‡åˆ†æé¢æ¿

### é•¿æœŸï¼ˆ3ä¸ªæœˆ+ï¼‰
- [ ] è€ƒè™‘è‡ªå»ºå›¾ç‰‡æœåŠ¡å™¨å‡å°‘ä¾èµ–
- [ ] å®ç°æ‰¹é‡ç”Ÿæˆé˜Ÿåˆ—
- [ ] æ·»åŠ æœåŠ¡é™çº§ç­–ç•¥
- [ ] é›†æˆ CDN åŠ é€Ÿå›¾ç‰‡åŠ è½½

---

## ğŸ“ è·å–æ”¯æŒ

å¦‚æœæµ‹è¯•åå‘ç°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **æµè§ˆå™¨æ§åˆ¶å°å®Œæ•´é”™è¯¯**
   ```
   å³é”® â†’ Copy â†’ Copy all messages
   ```

2. **Vercel å‡½æ•°æ—¥å¿—**
   - ä» Vercel Dashboard å¤åˆ¶
   - åŒ…å«å®Œæ•´çš„è¯·æ±‚ ID

3. **æ“ä½œæ­¥éª¤**
   - è¯¦ç»†çš„é‡ç°æ­¥éª¤
   - ä¸Šä¼ çš„å›¾ç‰‡ä¿¡æ¯ï¼ˆå¤§å°ã€æ ¼å¼ï¼‰
   - ä½¿ç”¨çš„æç¤ºè¯

4. **ç¯å¢ƒä¿¡æ¯**
   - æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬
   - ç½‘ç»œç¯å¢ƒï¼ˆWiFi/4G/5Gï¼‰
   - åœ°ç†ä½ç½®ï¼ˆå½±å“ç½‘ç»œå»¶è¿Ÿï¼‰

---

## âœ… æ£€æŸ¥æ¸…å•

åœ¨å‘ç”¨æˆ·å‘å¸ƒå‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] æ•°æ®åº“è¿ç§»å·²æ‰§è¡Œ
- [ ] ä»£ç å·²æäº¤å¹¶æ¨é€
- [ ] Vercel éƒ¨ç½²æˆåŠŸï¼ˆçŠ¶æ€ = Readyï¼‰
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] åŸºæœ¬åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•è¾¾åˆ°é¢„æœŸ
- [ ] é”™è¯¯åœºæ™¯æµ‹è¯•æ­£å¸¸
- [ ] Vercel å‡½æ•°æ—¥å¿—å¯è®¿é—®
- [ ] Gemini API é…é¢å……è¶³
- [ ] æ–‡æ¡£å·²æ›´æ–°

---

**æœ€åæ›´æ–°**: 2025-10-11  
**ä¼˜åŒ–å®Œæˆåº¦**: 100%  
**çŠ¶æ€**: âœ… ç­‰å¾…éƒ¨ç½²å’Œæµ‹è¯•  
**é¢„æœŸæ•ˆæœ**: 30-50% æ€§èƒ½æå‡ï¼Œæ›´ç¨³å®šçš„ç”¨æˆ·ä½“éªŒ

---

**ç¥ç”Ÿå›¾é¡ºåˆ©ï¼** ğŸ‰

